<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout/layout}">
	<head>
		<title>PMDB</title>
	</head>
	<body>
		<h1>IMDB SEARCH</h1>
		<div layout:fragment="content">
			<div class="panel panel-warning">
				<div class="panel-heading">
					IMDB Search Limitations
				</div>
				<div class="panel-body">
					<p>Due to contractual limits, IMDB search results are currently being limited to only the first page of search results
					with only basic movie information.  For more information on any particular movie, follow the provided IMDB movie links.</p>
				</div>
			</div>
			<div class="panel panel-info">
				<div class="panel-heading">
					<h1>Search IMDB</h1>
				</div>
				<div class="panel-body">
					<form th:action="@{/imdbsearch/searchSubmit}" th:object="${searchForm}" method="post" class="form-horizontal">
						<div th:replace="form/input :: text('Movie Title', 'title')"></div>
						<div th:replace="form/input :: text('Year', 'year')"></div>
						<div th:replace="form/input :: submit('Search IMDB')"></div>
					</form>
				</div>
			</div>
			<div th:if="${searchResults}">
				<div th:each="searchResult : ${searchResults}">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 th:text="${searchResult.title}" class="panel-title"></h3>
						</div>
						<div class="panel-body">
							<div class="row">
								<div class="col-md-4">
									<img th:src="${searchResult.poster}" alt="Movie Poster"/>
								</div>
								<div class="col-md-8">
									<div class="row"><div class="col-md-4">Picture Type:</div><div class="col-md-8" th:text="${searchResult.type}"></div></div>
									<div class="row"><div class="col-md-4">Year:</div><div class="col-md-8" th:text="${searchResult.year}"></div></div>
									<div class="row"><div class="col-md-4">IMDB Link:</div><div class="col-md-8"><a th:href="@{https://www.imdb.com/title/{imdbId}(imdbId=${searchResult.imdbID})}" th:text="'https://www.imdb.com/title/' + ${searchResult.imdbID}"></a></div></div>
									<div class="row"><div class="col-md-12"><a class="btn btn-default" href="#" th:href="@{/imdbsearch/addToCollection(imdbId=${searchResult.imdbID})}" role="button">Add To Movie Collection</a></div></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>